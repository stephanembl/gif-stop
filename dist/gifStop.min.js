!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.gifStop=n():t.gifStop=n()}(this,function(){return function(t){function n(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){var o,i,r,s;i=e(1),o=e(2),r={playOn:"hover",className:"gif-playing",onPlay:null,onPause:null,onReady:null},s=function(t){return function(t,n){return null==n&&(n={}),new i(t,n,r)}}(this),s.prototype.setConfig=function(t){return function(t){null==t&&(t={}),null!=t.playOn&&(r.playOn=t.playOn),null!=t.className&&(r.className=t.className),r.onPlay=t.onPlay,r.onPause=t.onPause}}(this),s.prototype.gif=function(t){return function(t,n){return new o(t,n,r)}}(this),t.exports=s},function(t,n,e){var o,i;o=e(2),t.exports=i=function(){function t(t,e,i){var u,l,p,c,f;for(u={playOn:e.playOn||i.playOn,className:e.className||i.className,onPlay:e.onPlay||i.onPlay,onStop:e.onStop||i.onStop,onReady:e.onReady||i.onReady},s=[],this.getConfig=function(){return u},r=function(){return t},c=0,f=t.length;c<f;c++)p=t[c],"IMG"!==p.tagName&&a(p)||(l=new o(p,u),s.push(l),n.apply(this,[l]))}var n,e,i,r,s,a;return s=null,i=null,r=null,n=null,e=null,t.prototype.play=function(){var t,n,e,o;for(o=[],n=0,e=s.length;n<e;n++)t=s[n],o.push(t.play());return o},t.prototype.stop=function(){var t,n,e,o;for(o=[],n=0,e=s.length;n<e;n++)t=s[n],o.push(t.stop());return o},t.prototype.destroy=function(){var t,n,o,i;for(i=[],n=0,o=s.length;n<o;n++)t=s[n],i.push(e(t));return i},a=function(t){return t.classList.contains("gifStop")},n=function(t){var n;if(n=this.getConfig(),null!=n.playOn)return"hover"===n.playOn?(t.img.addEventListener("mouseenter",t,!1),t.img.addEventListener("mouseleave",t,!1)):"click"===n.playOn?t.img.addEventListener("click",t,!1):void 0},e=function(t){var n;if(n=this.getConfig(),null!=n.playOn)return"hover"===n.playOn?(t.img.removeEventListener("mouseenter",t,!1),t.img.removeEventListener("mouseleave",t,!1)):"click"===n.playOn?t.img.removeEventListener("click",t,!1):void 0},t}()},function(t,n){var e,o=function(t,n){return function(){return t.apply(n,arguments)}};t.exports=e=function(){function t(t,n){var e,i,r,s,a,u,l,p;this.img=t,this.stop=o(this.stop,this),this.play=o(this.play,this),a=n,this.getConfig=function(){return a},this.isStopped=!0,this.ready=!1,this.animatedSource=this.img.src,this.img.classList.add("gifStop"),e=document.createElement("canvas"),i=e.getContext("2d"),r=new Image,r.crossOrigin="anonymous",u=!1,this.isLoaded=!1,p=function(t){return function(){if(!t.isLoaded)return e.width=t.img.naturalWidth,e.height=t.img.naturalHeight,i.drawImage(r,0,0),t.stoppedSource=e.toDataURL(),t.isStopped?t.stop(!0):t.play(!0),t.ready=!0,t.isLoaded=!0,null!=a.onReady?a.onReady(t):void 0}}(this),s=function(){if(!u)return 0===r.naturalWidth?setTimeout(s,10):setTimeout(p,50)},l=function(){return u=!0},r.onload=s,r.onerror=l,r.src=this.animatedSource}var n;return t.prototype.isStopped=null,t.prototype.img=null,t.prototype.animatedSource=null,t.prototype.stoppedSource=null,t.prototype.ready=null,t.prototype.onPlay=null,t.prototype.onStop=null,t.prototype.play=function(t){var n;if(null==t&&(t=!1),this.isStopped||t)return n=this.getConfig(),this.img.src=this.animatedSource,this.img.classList.add(n.className),this.isStopped=!1,null!=n.onPlay?n.onPlay(this):void 0},t.prototype.stop=function(t){var n;if(null==t&&(t=!1),!this.isStopped||t)return n=this.getConfig(),this.img.src=this.stoppedSource,this.img.classList.remove(n.className),this.isStopped=!0,null!=n.onStop?n.onStop(this):void 0},t.prototype.handleEvent=function(t){var e;if(e="on"+t.type,null!=n[e])return n[e].apply(this,[t])},n={onclick:function(){if(this.ready)return this.isStopped?this.play():this.stop()},onmouseenter:function(){if(this.ready)return this.play()},onmouseleave:function(){if(this.ready)return this.stop()}},t}()}])});